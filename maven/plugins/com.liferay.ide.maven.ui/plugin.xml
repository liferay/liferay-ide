<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="com.liferay.ide.core.liferayProjectAdapters">
      <liferayProjectAdapter
            class="com.liferay.ide.maven.ui.MavenProjectAdapter"
            id="com.liferay.ide.maven.ui.mavenProjectAdapter">
      </liferayProjectAdapter>
   </extension>

   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            adaptable="true"
            id="com.liferay.ide.ui.popupmenu"
            objectClass="org.eclipse.core.resources.IResource">
         <menu
               icon="icons/e16/liferay.png"
               id="liferayPopupMenuCategory"
               label="%liferay.menu.label">
            <separator
                  name="slot1">
            </separator>
            <groupMarker
                  name="maven">
            </groupMarker>
         </menu>
         <menu
               icon="icons/e16/m2e-liferay.png"
               id="liferayPopupMenuMavenCategory"
               label="%maven.menu.label"
               path="liferayPopupMenuCategory/maven">
            <groupMarker
                  name="build-css">
            </groupMarker>
            <groupMarker
                  name="build-db">
            </groupMarker>
            <groupMarker
                  name="build-ext">
            </groupMarker>
            <groupMarker
                  name="build-lang">
            </groupMarker>
            <groupMarker
                  name="build-service">
            </groupMarker>
            <groupMarker
                  name="build-thumbnail">
            </groupMarker>
            <groupMarker
                  name="build-wsdd">
            </groupMarker>
            <groupMarker
                  name="deploy">
            </groupMarker>
            <groupMarker
                  name="direct-deploy">
            </groupMarker>
            <groupMarker
                  name="theme-merge">
            </groupMarker>
         </menu>
      </objectContribution>
      <objectContribution
            adaptable="true"
            id="com.liferay.ide.maven.ui.maven.popup"
            objectClass="org.eclipse.core.resources.IResource">

          <action
               class="com.liferay.ide.maven.ui.action.BuildCSSGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-css"
               label="liferay:build-css"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-css">
          </action>
          <action
               class="com.liferay.ide.maven.ui.action.BuildDBGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-db"
               label="liferay:build-db"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-db">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.BuildExtGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-ext"
               label="liferay:build-ext"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-ext">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.BuildLangGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-lang"
               label="liferay:build-lang"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-lang">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.BuildServiceGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-service"
               label="liferay:build-service"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-service">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.BuildThumbnailGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-thumbnail"
               label="liferay:build-thumbnail"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-thumbnail">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.BuildWSDDGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.build-wsdd"
               label="liferay:build-wsdd"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/build-wsdd">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.DeployGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.deploy"
               label="liferay:deploy"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/deploy">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.DirectDeployGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.direct-deploy"
               label="liferay:direct-deploy"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/direct-deploy">
         </action>
         <action
               class="com.liferay.ide.maven.ui.action.ThemeMergeGoalAction"
               enablesFor="1"
               icon="icons/e16/m2e-liferay.png"
               id="com.liferay.ide.maven.popup.action.theme-merge"
               label="liferay:theme-merge"
               menubarPath="liferayPopupMenuCategory/liferayPopupMenuMavenCategory/theme-merge">
         </action>
         <enablement>
               <adapt type="org.eclipse.core.resources.IResource">
                   <or>
                       <adapt type="org.eclipse.core.resources.IFile">
                           <test forcePluginActivation="true"
                               property="com.liferay.ide.maven.ui.isPomFile"
                               value="true" />
                       </adapt>
                       <and>
                            <adapt type="org.eclipse.core.resources.IProject">
                               <test forcePluginActivation="true"
                                   property="com.liferay.ide.maven.ui.isMavenProject"
                                   value="true" />
                           </adapt>
                        </and>
                   </or>
               </adapt>
         </enablement>
      </objectContribution>
  </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="com.liferay.ide.maven.ui.MavenProjectPropertyTester"
            id="com.liferay.ide.maven.ui.isMavenProject"
            namespace="com.liferay.ide.maven.ui"
            properties="isMavenProject"
            type="org.eclipse.core.resources.IProject">
      </propertyTester>
      <propertyTester
            class="com.liferay.ide.maven.ui.PomFilePropertyTester"
            id="com.liferay.ide.maven.ui.isPomFile"
            namespace="com.liferay.ide.maven.ui"
            properties="isPomFile"
            type="org.eclipse.core.resources.IFile">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.ui.ide.markerResolution">
      <markerResolutionGenerator
            class="com.liferay.ide.maven.ui.ConfigProblemMarkerResolutionGenerator"
            markerType="com.liferay.ide.maven.core.configurationProblem">
      </markerResolutionGenerator>
   </extension>
   <extension
         point="org.eclipse.m2e.core.mavenProjectChangedListeners">
      <listener
            class="com.liferay.ide.maven.ui.LiferayMavenProjectChangedListener">
      </listener>
   </extension>
</plugin>
